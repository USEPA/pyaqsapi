

<!DOCTYPE html>
<html class="writer-html5" lang="en" data-content_root="./">
<head>
  <meta charset="utf-8" /><meta name="viewport" content="width=device-width, initial-scale=1" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>pyaqsapi user documentation &mdash; pyaqsapi  documentation</title>
      <link rel="stylesheet" type="text/css" href="_static/pygments.css?v=b86133f3" />
      <link rel="stylesheet" type="text/css" href="_static/css/theme.css?v=e59714d7" />

  
      <script src="_static/jquery.js?v=5d32c60e"></script>
      <script src="_static/_sphinx_javascript_frameworks_compat.js?v=2cd50e6c"></script>
      <script src="_static/documentation_options.js?v=5929fcd5"></script>
      <script src="_static/doctools.js?v=9bcbadda"></script>
      <script src="_static/sphinx_highlight.js?v=dc90522c"></script>
    <script src="_static/js/theme.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="1. EPA Disclaimer" href="manual/EPA_Disclaimer.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
          <a href="#" class="icon icon-home">
            pyaqsapi
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <ul>
<li class="toctree-l1"><a class="reference internal" href="manual/EPA_Disclaimer.html">1. EPA Disclaimer</a></li>
<li class="toctree-l1"><a class="reference internal" href="manual/EPA_Disclaimer.html#aqs-datamart-disclaimer">2. AQS DataMart Disclaimer</a></li>
<li class="toctree-l1"><a class="reference internal" href="manual/Introduction.html">3. Introduction</a></li>
<li class="toctree-l1"><a class="reference internal" href="manual/TimelinessofAQSdata.html">4. About the timeliness of AQS Data</a></li>
<li class="toctree-l1"><a class="reference internal" href="manual/Install_pyaqsapi.html">5. Install pyaqsapi</a></li>
<li class="toctree-l1"><a class="reference internal" href="manual/Load_pyaqsapi.html">6. Load pyaqsapi</a></li>
<li class="toctree-l1"><a class="reference internal" href="manual/Using_pyaqsapi.html">7. Using pyaqsapi</a></li>
<li class="toctree-l1"><a class="reference internal" href="manual/Using_pyaqsapi.html#sign-up-and-setting-up-user-credentials-with-the-pyaqsapi-library">8. Sign up and setting up user credentials with the pyaqsapi library</a></li>
<li class="toctree-l1"><a class="reference internal" href="manual/pyaqsapiusagetipsandprecautions.html">9. Usage tips and precautions</a></li>
<li class="toctree-l1"><a class="reference internal" href="manual/pyaqsapiFunctions-Long.html">10. Functions Exported by pyaqsapi</a></li>
<li class="toctree-l1"><a class="reference internal" href="manual/pyaqsapiFunctions-Long.html#variable-descriptions-and-usage">11. Variable descriptions and usage</a></li>
<li class="toctree-l1"><a class="reference internal" href="manual/pyaqsapiFunctions-Long.html#pyaqsapi-functional-families">12. pyaqsapi functional families</a></li>
<li class="toctree-l1"><a class="reference internal" href="manual/Troubleshooting.html">13. Troubleshooting</a></li>
<li class="toctree-l1"><a class="reference internal" href="manual/RAQSAPI.html">14. About RAQSAPI</a></li>
<li class="toctree-l1"><a class="reference internal" href="modules.html">15. pyaqsapi</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="#">pyaqsapi</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="#" class="icon icon-home" aria-label="Home"></a></li>
      <li class="breadcrumb-item active">pyaqsapi user documentation</li>
      <li class="wy-breadcrumbs-aside">
            <a href="_sources/index.rst.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="pyaqsapi-user-documentation">
<h1>pyaqsapi user documentation<a class="headerlink" href="#pyaqsapi-user-documentation" title="Link to this heading">ÔÉÅ</a></h1>
<div class="toctree-wrapper compound">
<ul>
<li class="toctree-l1"><a class="reference internal" href="manual/EPA_Disclaimer.html">1. EPA Disclaimer</a></li>
<li class="toctree-l1"><a class="reference internal" href="manual/EPA_Disclaimer.html#aqs-datamart-disclaimer">2. AQS DataMart Disclaimer</a></li>
<li class="toctree-l1"><a class="reference internal" href="manual/Introduction.html">3. Introduction</a><ul>
<li class="toctree-l2"><a class="reference internal" href="manual/Introduction.html#the-air-quality-system-aqs">3.1. The air Quality System (AQS)</a></li>
<li class="toctree-l2"><a class="reference internal" href="manual/Introduction.html#about-aqs-data-mart">3.2. About AQS Data Mart</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="manual/TimelinessofAQSdata.html">4. About the timeliness of AQS Data</a></li>
<li class="toctree-l1"><a class="reference internal" href="manual/Install_pyaqsapi.html">5. Install pyaqsapi</a><ul>
<li class="toctree-l2"><a class="reference internal" href="manual/Install_pyaqsapi.html#packaged-binary-install-options">5.1. Packaged Binary install options</a></li>
<li class="toctree-l2"><a class="reference internal" href="manual/Install_pyaqsapi.html#packaged-binary-install-of-pyaqsapi-from-pypi-org">5.2. Packaged binary install of pyaqsapi from pypi.org</a></li>
<li class="toctree-l2"><a class="reference internal" href="manual/Install_pyaqsapi.html#install-pyaqsapi-from-source-manual-install-from-github">5.3. Install pyaqsapi from source (manual install from github)</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="manual/Load_pyaqsapi.html">6. Load pyaqsapi</a></li>
<li class="toctree-l1"><a class="reference internal" href="manual/Using_pyaqsapi.html">7. Using pyaqsapi</a></li>
<li class="toctree-l1"><a class="reference internal" href="manual/Using_pyaqsapi.html#sign-up-and-setting-up-user-credentials-with-the-pyaqsapi-library">8. Sign up and setting up user credentials with the pyaqsapi library</a></li>
<li class="toctree-l1"><a class="reference internal" href="manual/pyaqsapiusagetipsandprecautions.html">9. Usage tips and precautions</a></li>
<li class="toctree-l1"><a class="reference internal" href="manual/pyaqsapiFunctions-Long.html">10. Functions Exported by pyaqsapi</a></li>
<li class="toctree-l1"><a class="reference internal" href="manual/pyaqsapiFunctions-Long.html#variable-descriptions-and-usage">11. Variable descriptions and usage</a></li>
<li class="toctree-l1"><a class="reference internal" href="manual/pyaqsapiFunctions-Long.html#pyaqsapi-functional-families">12. pyaqsapi functional families</a><ul>
<li class="toctree-l2"><a class="reference internal" href="manual/pyaqsapiFunctions-Long.html#sign-up-and-credentials">12.1. Sign up and credentials</a></li>
<li class="toctree-l2"><a class="reference internal" href="manual/pyaqsapiFunctions-Long.html#data-mart-api-metadata-functions">12.2. Data Mart API metadata functions</a></li>
<li class="toctree-l2"><a class="reference internal" href="manual/pyaqsapiFunctions-Long.html#data-mart-api-list-functions">12.3. Data Mart API list functions</a></li>
<li class="toctree-l2"><a class="reference internal" href="manual/pyaqsapiFunctions-Long.html#data-mart-aggregate-functions">12.4. Data Mart aggregate functions</a></li>
<li class="toctree-l2"><a class="reference internal" href="manual/pyaqsapiFunctions-Long.html#data-mart-aggregate-functions-bysite">12.5. Data Mart aggregate functions bysite</a></li>
<li class="toctree-l2"><a class="reference internal" href="manual/pyaqsapiFunctions-Long.html#data-mart-aggregate-functions-bycounty">12.6. Data Mart aggregate functions bycounty</a></li>
<li class="toctree-l2"><a class="reference internal" href="manual/pyaqsapiFunctions-Long.html#data-mart-aggregate-functions-bystate">12.7. Data Mart aggregate functions bystate</a></li>
<li class="toctree-l2"><a class="reference internal" href="manual/pyaqsapiFunctions-Long.html#data-mart-aggregate-functions-by-monitoring-agency-ma">12.8. Data Mart aggregate functions by Monitoring agency (MA)</a></li>
<li class="toctree-l2"><a class="reference internal" href="manual/pyaqsapiFunctions-Long.html#data-mart-aggregate-functions-by-core-based-statistical-area-cbsa">12.9. Data Mart aggregate functions by Core Based Statistical Area (cbsa)</a></li>
<li class="toctree-l2"><a class="reference internal" href="manual/pyaqsapiFunctions-Long.html#data-mart-aggregate-functions-by-primary-quality-assurance-organization-pqao">12.10. Data Mart aggregate functions by Primary Quality Assurance Organization (pqao)</a></li>
<li class="toctree-l2"><a class="reference internal" href="manual/pyaqsapiFunctions-Long.html#data-mart-aggregate-functions-by-latitude-longitude-bounding-box-bybox">12.11. Data Mart aggregate functions by latitude/longitude bounding box (bybox)</a></li>
<li class="toctree-l2"><a class="reference internal" href="manual/pyaqsapiFunctions-Long.html#pyaqsapi-miscellaneous-functions">12.12. pyaqsapi Miscellaneous functions</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="manual/Troubleshooting.html">13. Troubleshooting</a></li>
<li class="toctree-l1"><a class="reference internal" href="manual/RAQSAPI.html">14. About RAQSAPI</a></li>
<li class="toctree-l1"><a class="reference internal" href="modules.html">15. pyaqsapi</a><ul>
<li class="toctree-l2"><a class="reference internal" href="pyaqsapi.html">15.1. pyaqsapi package</a></li>
</ul>
</li>
</ul>
</div>
<section id="pyaqsapi-documentation">
<h2>pyaqsapi documentation<a class="headerlink" href="#pyaqsapi-documentation" title="Link to this heading">ÔÉÅ</a></h2>
</section>
<section id="epa-disclaimer">
<span id="index-0"></span><h2>EPA Disclaimer<a class="headerlink" href="#epa-disclaimer" title="Link to this heading">ÔÉÅ</a></h2>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>This software/application was developed by the U.S. Environmental
Protection Agency (USEPA). No warranty expressed or implied is made
regarding the accuracy or utility of the system, nor shall the act of
distribution constitute any such warranty. The USEPA has relinquished
control of the information and no longer has responsibility to protect
the integrity, confidentiality or availability of the information. Any
reference to specific commercial products, processes, or services by
service mark, trademark, manufacturer, or otherwise, does not constitute
or imply their endorsement, recommendation or favoring by the USEPA. The
USEPA seal and logo shall not be used in any manner to imply endorsement
of any commercial product or activity by the USEPA or the United States
Government.</p>
</div>
</section>
<section id="aqs-datamart-disclaimer">
<h2>AQS DataMart Disclaimer<a class="headerlink" href="#aqs-datamart-disclaimer" title="Link to this heading">ÔÉÅ</a></h2>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>US EPA‚Äôs AQS Data Mart API V2 is currently in beta phase of development,
the API interface has not been finalized. This means that certain
functionality of the API may change or be removed without notice. As a
result, this package is also currently marked as beta and may also change
to reflect any changes made to the Data Mart API or in respect to
improvements in the design, functionality, quality and documentation of
this package. The authors assume no liability for any problems that may
occur as a result of using this package, the Data Mart service, any
software, service, hardware, or user accounts that may utilize this
package.</p>
</div>
</section>
<section id="introduction">
<span id="index-1"></span><h2>Introduction<a class="headerlink" href="#introduction" title="Link to this heading">ÔÉÅ</a></h2>
<p>The pyaqsapi package for the python 3 programming environment allows a python 3
programming environment to connect to and retrieve data from the United States
Environmental Protection Agency‚Äôs (US EPA) Air Quality System (AQS) Data Mart
API v2 (Air Quality System) <span id="id1"></span> interface directly.
This package enables the data user to omit legacy challenges including coercing
data from a JSON object to a usable python 3 object, retrieving multiple years
of data, formatting API requests, retrieving results, handling credentials,
requesting multiple pollutant data and rate limiting data requests.
All the basic functionality of the API have been implemented that are available
from the AQS API Data Mart server. The library connects to AQS Data Mart API
via Hypertext Transfer Protocol (HTTP) so there is no need to install external
ODBC drivers, configure ODBC connections or deal with the security
vulnerabilities associated with them. Most functions have a parameter,
return_header which by default is set to FALSE. If the user decides to
set return_header to TRUE, then that function will return a python 3
AQSAPI_V2 object. An AQSAPI_V2 object has instance methods for retrieving the
data requested, header information, and other metadata related to the API call.
After each call to the API a five second stall is invoked to help prevent
overloading the Data Mart API server and to serve as a simple rate limit.</p>
<section id="the-air-quality-system-aqs">
<h3>The air Quality System (AQS)<a class="headerlink" href="#the-air-quality-system-aqs" title="Link to this heading">ÔÉÅ</a></h3>
<p>The Clean Air act <span id="id2"></span> requires all federal, state, local and
tribal air pollution control agencies monitor ambient air for concentrations of
certain air pollutants. Codified in 40 CFR Part 58 are the statutory
requirements for these monitoring programs, including monitoring network
technical requirements, operating schedules, data certification, data submittal
and archiving requirements. In addition to the required air pollution and
meteorological monitoring, pollution control agencies often perform additional
and/or voluntary air monitoring.</p>
<ul>
<li><dl>
<dt>The three objectives of ambient air monitoring programs as stated in 40 CFR</dt><dd><blockquote>
<div><p>Part 58 Appendix D.1 are as follows:</p>
</div></blockquote>
<ul class="simple">
<li><p>Provide air pollution data to the public in a timely manner;</p></li>
<li><dl class="simple">
<dt>Support compliance with ambient air quality standards and emissions</dt><dd><p>strategy development; and</p>
</dd>
</dl>
</li>
<li><p>Support for air pollution research studies.</p></li>
</ul>
</dd>
</dl>
</li>
</ul>
<p>As required by 40 CFR Part 58, air pollution and meteorological data is
submitted to the United States Environmental Protection Agency along with
associated metadata and quality assurance metadata via EPA‚Äôs Air
Quality System (AQS):cite:t:<cite>&#64;AboutAQSdata</cite>.</p>
</section>
<section id="about-aqs-data-mart">
<h3>About AQS Data Mart<a class="headerlink" href="#about-aqs-data-mart" title="Link to this heading">ÔÉÅ</a></h3>
<p>AQS Data Mart is a publicly accessible mirror of data stored on the AQS database
designed to make air monitoring data more accessible and useful to the technical
community, scientific community and the general public. Data on AQS is copied to
AQS Data Mart once per week and this data is made available to the public
through web-based applications and APIs (application programming interface)
<span id="id3"></span>. pyaqsapi functions use the APIs provided by AQS
Data Mart to retrieve data.</p>
</section>
</section>
<section id="about-the-timeliness-of-aqs-data">
<span id="index-2"></span><h2>About the timeliness of AQS Data<a class="headerlink" href="#about-the-timeliness-of-aqs-data" title="Link to this heading">ÔÉÅ</a></h2>
<p>EPA‚Äôs AQS Datamart API, the service that pyaqsapi retrieves data from, does not
host real time (collected now/today) data. If real time data is needed, please
use the AirNow API and direct all questions toward real time data there.
pyaqsapi does not work with AirNow and cannot retrieve real time data. For more
details see section 7.1 of the About AQS Data page <span id="id4"></span>.</p>
</section>
<section id="install-pyaqsapi">
<span id="index-3"></span><h2>Install pyaqsapi<a class="headerlink" href="#install-pyaqsapi" title="Link to this heading">ÔÉÅ</a></h2>
<p>The user has the choice of installing pyaqspi as a precompiled binary or
installing from source.</p>
<section id="packaged-binary-install-options">
<h3>Packaged Binary install options<a class="headerlink" href="#packaged-binary-install-options" title="Link to this heading">ÔÉÅ</a></h3>
</section>
<section id="packaged-binary-install-of-pyaqsapi-from-pypi-org">
<h3>Packaged binary install of pyaqsapi from pypi.org<a class="headerlink" href="#packaged-binary-install-of-pyaqsapi-from-pypi-org" title="Link to this heading">ÔÉÅ</a></h3>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="go">pip install pyaqsapi</span>
</pre></div>
</div>
</section>
<section id="install-pyaqsapi-from-source-manual-install-from-github">
<h3>Install pyaqsapi from source (manual install from github)<a class="headerlink" href="#install-pyaqsapi-from-source-manual-install-from-github" title="Link to this heading">ÔÉÅ</a></h3>
<p>To install pyaqsapi first clone the pyaqsapi repository.</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="go">git clone https://github.com/USEPA/pyaqsapi.git</span>
</pre></div>
</div>
<p>Next, in the project‚Äôs root directory use pip to install the proper
dependencies that are required to build
and install pyaqsapi.</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="go">pip install -r requirements.txt</span>
</pre></div>
</div>
<p>While still in the project‚Äôs root directory use setuptools to build and pip
to install the package.</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="go">python -m build .</span>
<span class="go">python -m pip install .</span>
</pre></div>
</div>
</section>
</section>
<section id="load-pyaqsapi">
<span id="index-4"></span><h2>Load pyaqsapi<a class="headerlink" href="#load-pyaqsapi" title="Link to this heading">ÔÉÅ</a></h2>
<p>Like any other python package make sure that you are loading pyaqsapi in the
same virtual environment where pyaqsapi was installed. Load pyaqsapi in the
same any other python package is loaded.</p>
<div class="highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span><span class="w"> </span><span class="nn">pyaqsapi</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">aqs</span>
</pre></div>
</div>
</section>
<section id="using-pyaqsapi">
<span id="index-5"></span><h2>Using pyaqsapi<a class="headerlink" href="#using-pyaqsapi" title="Link to this heading">ÔÉÅ</a></h2>
<p>For those who are already familiar with using <span id="id5"></span>
RAQSAPI then the pyaqsapi API should feel familiar with a few minor differences
regarding how the data is returned.</p>
<p>By default data is returned as a pandas Data Frames <span id="id6"></span>.
Exported functions from pyaqsapi have a parameter RETURN_HEADER, by default
this parameter is False. When False functions simply return the requested
data as a pandas Data Frame. If RETURN_HEADER is manually set to True a list of
AQSAPI_V2 python 3 objects are returned. Use the get_data() class method to
retrieve the data and the get_header() class method to retrieve header
information.</p>
</section>
<section id="sign-up-and-setting-up-user-credentials-with-the-pyaqsapi-library">
<span id="index-6"></span><h2>Sign up and setting up user credentials with the pyaqsapi library<a class="headerlink" href="#sign-up-and-setting-up-user-credentials-with-the-pyaqsapi-library" title="Link to this heading">ÔÉÅ</a></h2>
<p>If you have not already done so you will need to sign up with AQS Data Mart
using aqs_sign_up function, this function takes one input, ‚Äúemail,‚Äù which
is a python 3 character object, that represents the email address that you want
to use as a user credential to the AQS Data Mart service. After a successful
call to aqs_sign_up an email message will be sent to the email address provided
with a new Data Mart key which will be used as a credential key to access the
Data Mart API. The aqs_sign_up function can also be used to regenerate a new
key for an existing user, to generate a new key simply call the aqs_sign_up
function with the parameter ‚Äúemail‚Äù set to an existing account. A new key will
be e-mailed to the account given.</p>
<p>The credentials used to access the Data Mart API service are stored in as a
python global variable that needs to be set every time the pyaqsapi module is
loaded or the key is changed. Without valid credentials, the Data Mart server
will reject any request sent to it. The key used with Data Mart is a key and is
not a password, so the pyaqsapi package does not treat the key as a password;
this means that the key is stored in plain text and there are no attempts to
encrypt Data Mart credentials as would be done for a username and password
combination. The key that is supplied to use with Data Mart is not intended for
authentication but only account monitoring. Each time pyaqsapi is loaded and
before using any of it‚Äôs functions use the aqs_credentials function to enter in
the user credentials so that pyaqsapi can access the AQS Data Mart server.</p>
<p>Both pyaqsapi and RAQSAPI use the US Environmental Protection Agency‚Äôs Air
Quality Service DataMart to retrieve data. The same credentials can be used for
access to either project. Note however, that AQS and AQS DataMart are similar
and related data sources, however the credentials used to access AQS are not the
same as those used to access AQS DataMart.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>The credentials used to access AQS Data Mart API are not the same as the
credentials used to access AQS. AQS users who do not have access to the
AQS Data Mart will need to create new credentials. However, you may use the
same credentials used in RAQSAPI in pyaqsapi since RAQSAPI ewes the the same
AQS Data Mart API as pyaqsapi.</p>
</div>
</section>
<section id="usage-tips-and-precautions">
<span id="index-7"></span><h2>Usage tips and precautions<a class="headerlink" href="#usage-tips-and-precautions" title="Link to this heading">ÔÉÅ</a></h2>
<p>This section contains suggestions for completing certain data related tasks.</p>
<ul>
<li><p>Determine if or how much data exists for a time-parameter-geography
combination:</p>
<blockquote>
<div><ul class="simple">
<li><p>Retrieve data using the annualdata service.</p></li>
<li><p>If no records are returned, we do not have the data.</p></li>
<li><p>If records are returned, use the observation count to determine the
temporal and geographic distribution of the data.</p></li>
</ul>
</div></blockquote>
</li>
<li><p>Monthly averages:</p>
<blockquote>
<div><ul class="simple">
<li><p>AQS does not routinely calculate monthly aggregate statistics.</p></li>
<li><p>If you need these, you must calculate them yourself.</p></li>
<li><p>These can be calculated from the sample data or the daily data without
loss of fidelity.</p></li>
</ul>
</div></blockquote>
</li>
<li><p>Determine a single value for a site with collocated monitors:</p>
<blockquote>
<div><ul class="simple">
<li><p>Many sites will have collocated monitors - monitors collecting the same
parameter at the same time.</p></li>
<li><p>The API currently provides only monitor level values. (site-level values
will be added in the future.)</p></li>
<li><p>For some criteria pollutants (PM2.5, ozone, lead, and NO2), the
regulations define procedures for defining a single site-level value.</p></li>
<li><p>For other pollutants, determining a single site-level value is left to
the investigator.</p></li>
</ul>
</div></blockquote>
</li>
<li><p><strong>Please adhere to the following when using the AQS Data Mart API</strong>:</p>
<blockquote>
<div><ul class="simple">
<li><dl class="simple">
<dt><em>Limit the size of queries</em>. The AQS Data Mart contains billions of</dt><dd><p>values and you may request more than you intend. If you are unsure of
the amount of data, start small and work your way up. Please limit
queries to 1,000,000 rows of data each. You can use the
‚Äúobservation count‚Äù field on the annualdata service to determine how
much data exists for a time-parameter-geography combination.</p>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt><em>Limit the frequency of queries</em>. The AQS Data Mart can process a limited</dt><dd><p>load. Please wait for one request to complete before submitting another
and do not make more than 10 requests per minute.</p>
</dd>
</dl>
</li>
<li><p>Be advised that RAQSAPI is capable of retrieving results for multiple
pollutants, this can result in the amount of data being returned being
multiplied by the number of pollutants being requested.</p></li>
<li><p>Be advised that the AQS Data Mart API limits certain data requests to
one year of data at a time with the exception of the Monitor service.
In order to retrieve multiple years of data for these functions the
RAQSAPI library conveniently sends multiple API requests to the Data Mart
API server, one request for each year, this can result in the amount of
data being returned being multiplied by the number of years of data being
requested.</p></li>
</ul>
</div></blockquote>
</li>
</ul>
<p><strong>The AQS Data Mart administrators may disable accounts without notice for
failure to adhere to these terms (Though they will contact the offending
user via the email address provided)</strong></p>
</section>
<section id="functions-exported-by-pyaqsapi">
<span id="index-8"></span><h2>Functions Exported by pyaqsapi<a class="headerlink" href="#functions-exported-by-pyaqsapi" title="Link to this heading">ÔÉÅ</a></h2>
<p>The pyaqsapi package includes the following submodules which are not
loaded by default:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">*</span> <span class="n">pyaqsapi</span><span class="o">.</span><span class="n">bysite</span>
<span class="o">*</span> <span class="n">pyaqsapi</span><span class="o">.</span><span class="n">bycounty</span>
<span class="o">*</span> <span class="n">pyaqsapi</span><span class="o">.</span><span class="n">bycounty</span>
<span class="o">*</span> <span class="n">pyaqsapi</span><span class="o">.</span><span class="n">bycbsa</span>
<span class="o">*</span> <span class="n">pyaqsapi</span><span class="o">.</span><span class="n">bybox</span>
<span class="o">*</span> <span class="n">pyaqsapi</span><span class="o">.</span><span class="n">byma</span>
<span class="o">*</span> <span class="n">pyaqsapi</span><span class="o">.</span><span class="n">ma</span>
</pre></div>
</div>
<p>With these submodules loaded the entire list of functions exported by the
pyaqsapi package includes:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">*</span> <span class="n">pyaqsapi</span><span class="o">.</span><span class="n">aqs_cbsas</span><span class="p">,</span>
<span class="o">*</span> <span class="n">pyaqsapi</span><span class="o">.</span><span class="n">aqs_classes</span><span class="p">,</span>
<span class="o">*</span> <span class="n">pyaqsapi</span><span class="o">.</span><span class="n">aqs_counties_by_state</span><span class="p">,</span>
<span class="o">*</span> <span class="n">pyaqsapi</span><span class="o">.</span><span class="n">aqs_credentials</span><span class="p">,</span>
<span class="o">*</span> <span class="n">pyaqsapi</span><span class="o">.</span><span class="n">aqs_credentials</span><span class="p">,</span>
<span class="o">*</span> <span class="n">pyaqsapi</span><span class="o">.</span><span class="n">aqs_fields_by_service</span><span class="p">,</span>
<span class="o">*</span> <span class="n">pyaqsapi</span><span class="o">.</span><span class="n">aqs_fields_by_service</span><span class="p">,</span>
<span class="o">*</span> <span class="n">pyaqsapi</span><span class="o">.</span><span class="n">aqs_isavailable</span><span class="p">,</span>
<span class="o">*</span> <span class="n">pyaqsapi</span><span class="o">.</span><span class="n">aqs_isavailable</span><span class="p">,</span>
<span class="o">*</span> <span class="n">pyaqsapi</span><span class="o">.</span><span class="n">aqs_knownissues</span><span class="p">,</span>
<span class="o">*</span> <span class="n">pyaqsapi</span><span class="o">.</span><span class="n">aqs_knownissues</span><span class="p">,</span>
<span class="o">*</span> <span class="n">pyaqsapi</span><span class="o">.</span><span class="n">aqs_mas</span><span class="p">,</span>
<span class="o">*</span> <span class="n">pyaqsapi</span><span class="o">.</span><span class="n">aqs_parameters_by_class</span><span class="p">,</span>
<span class="o">*</span> <span class="n">pyaqsapi</span><span class="o">.</span><span class="n">aqs_pqaos</span><span class="p">,</span>
<span class="o">*</span> <span class="n">pyaqsapi</span><span class="o">.</span><span class="n">aqs_removeheader</span><span class="p">,</span>
<span class="o">*</span> <span class="n">pyaqsapi</span><span class="o">.</span><span class="n">aqs_revisionhistory</span><span class="p">,</span>
<span class="o">*</span> <span class="n">pyaqsapi</span><span class="o">.</span><span class="n">aqs_revisionhistory</span><span class="p">,</span>
<span class="o">*</span> <span class="n">pyaqsapi</span><span class="o">.</span><span class="n">aqs_sampledurations</span><span class="p">,</span>
<span class="o">*</span> <span class="n">pyaqsapi</span><span class="o">.</span><span class="n">aqs_sign_up</span><span class="p">,</span>
<span class="o">*</span> <span class="n">pyaqsapi</span><span class="o">.</span><span class="n">aqs_sign_up</span><span class="p">,</span>
<span class="o">*</span> <span class="n">pyaqsapi</span><span class="o">.</span><span class="n">aqs_sites_by_county</span><span class="p">,</span>
<span class="o">*</span> <span class="n">pyaqsapi</span><span class="o">.</span><span class="n">aqs_states</span><span class="p">,</span>
<span class="o">*</span> <span class="n">pyaqsapi</span><span class="o">.</span><span class="n">bybox</span><span class="o">.</span><span class="n">annualsummary</span><span class="p">,</span>
<span class="o">*</span> <span class="n">pyaqsapi</span><span class="o">.</span><span class="n">bybox</span><span class="o">.</span><span class="n">dailysummary</span><span class="p">,</span>
<span class="o">*</span> <span class="n">pyaqsapi</span><span class="o">.</span><span class="n">bybox</span><span class="o">.</span><span class="n">helperfunctions</span><span class="p">,</span>
<span class="o">*</span> <span class="n">pyaqsapi</span><span class="o">.</span><span class="n">bybox</span><span class="o">.</span><span class="n">monitors</span><span class="p">,</span>
<span class="o">*</span> <span class="n">pyaqsapi</span><span class="o">.</span><span class="n">bybox</span><span class="o">.</span><span class="n">quarterlysummary</span><span class="p">,</span>
<span class="o">*</span> <span class="n">pyaqsapi</span><span class="o">.</span><span class="n">bybox</span><span class="o">.</span><span class="n">sampledata</span><span class="p">,</span>
<span class="o">*</span> <span class="n">pyaqsapi</span><span class="o">.</span><span class="n">bycbsa</span><span class="o">.</span><span class="n">annualsummary</span><span class="p">,</span>
<span class="o">*</span> <span class="n">pyaqsapi</span><span class="o">.</span><span class="n">bycbsa</span><span class="o">.</span><span class="n">dailysummary</span><span class="p">,</span>
<span class="o">*</span> <span class="n">pyaqsapi</span><span class="o">.</span><span class="n">bycbsa</span><span class="o">.</span><span class="n">helperfunctions</span><span class="p">,</span>
<span class="o">*</span> <span class="n">pyaqsapi</span><span class="o">.</span><span class="n">bycbsa</span><span class="o">.</span><span class="n">monitors</span><span class="p">,</span>
<span class="o">*</span> <span class="n">pyaqsapi</span><span class="o">.</span><span class="n">bycbsa</span><span class="o">.</span><span class="n">quarterlysummary</span><span class="p">,</span>
<span class="o">*</span> <span class="n">pyaqsapi</span><span class="o">.</span><span class="n">bycbsa</span><span class="o">.</span><span class="n">sampledata</span><span class="p">,</span>
<span class="o">*</span> <span class="n">pyaqsapi</span><span class="o">.</span><span class="n">bycounty</span><span class="o">.</span><span class="n">annualsummary</span><span class="p">,</span>
<span class="o">*</span> <span class="n">pyaqsapi</span><span class="o">.</span><span class="n">bycounty</span><span class="o">.</span><span class="n">dailysummary</span><span class="p">,</span>
<span class="o">*</span> <span class="n">pyaqsapi</span><span class="o">.</span><span class="n">bycounty</span><span class="o">.</span><span class="n">helperfunctions</span><span class="p">,</span>
<span class="o">*</span> <span class="n">pyaqsapi</span><span class="o">.</span><span class="n">bycounty</span><span class="o">.</span><span class="n">monitors</span><span class="p">,</span>
<span class="o">*</span> <span class="n">pyaqsapi</span><span class="o">.</span><span class="n">bycounty</span><span class="o">.</span><span class="n">qa_annualperformanceeval</span><span class="p">,</span>
<span class="o">*</span> <span class="n">pyaqsapi</span><span class="o">.</span><span class="n">bycounty</span><span class="o">.</span><span class="n">qa_annualperformanceevaltransaction</span><span class="p">,</span>
<span class="o">*</span> <span class="n">pyaqsapi</span><span class="o">.</span><span class="n">bycounty</span><span class="o">.</span><span class="n">qa_blanks</span><span class="p">,</span>
<span class="o">*</span> <span class="n">pyaqsapi</span><span class="o">.</span><span class="n">bycounty</span><span class="o">.</span><span class="n">qa_collocated_assessments</span><span class="p">,</span>
<span class="o">*</span> <span class="n">pyaqsapi</span><span class="o">.</span><span class="n">bycounty</span><span class="o">.</span><span class="n">qa_flowrateaudit</span><span class="p">,</span>
<span class="o">*</span> <span class="n">pyaqsapi</span><span class="o">.</span><span class="n">bycounty</span><span class="o">.</span><span class="n">qa_flowrateverification</span><span class="p">,</span>
<span class="o">*</span> <span class="n">pyaqsapi</span><span class="o">.</span><span class="n">bycounty</span><span class="o">.</span><span class="n">qa_one_point_qc</span><span class="p">,</span>
<span class="o">*</span> <span class="n">pyaqsapi</span><span class="o">.</span><span class="n">bycounty</span><span class="o">.</span><span class="n">qa_pep_audit</span><span class="p">,</span>
<span class="o">*</span> <span class="n">pyaqsapi</span><span class="o">.</span><span class="n">bycounty</span><span class="o">.</span><span class="n">quarterlysummary</span><span class="p">,</span>
<span class="o">*</span> <span class="n">pyaqsapi</span><span class="o">.</span><span class="n">bycounty</span><span class="o">.</span><span class="n">sampledata</span><span class="p">,</span>
<span class="o">*</span> <span class="n">pyaqsapi</span><span class="o">.</span><span class="n">bycounty</span><span class="o">.</span><span class="n">transactionsample</span><span class="p">,</span>
<span class="o">*</span> <span class="n">pyaqsapi</span><span class="o">.</span><span class="n">byma</span><span class="o">.</span><span class="n">qa_annualpeferomanceeval</span><span class="p">,</span>
<span class="o">*</span> <span class="n">pyaqsapi</span><span class="o">.</span><span class="n">byma</span><span class="o">.</span><span class="n">qa_annualperformanceevaltransaction</span><span class="p">,</span>
<span class="o">*</span> <span class="n">pyaqsapi</span><span class="o">.</span><span class="n">byma</span><span class="o">.</span><span class="n">qa_blanks</span><span class="p">,</span>
<span class="o">*</span> <span class="n">pyaqsapi</span><span class="o">.</span><span class="n">byma</span><span class="o">.</span><span class="n">qa_collocated_assessments</span><span class="p">,</span>
<span class="o">*</span> <span class="n">pyaqsapi</span><span class="o">.</span><span class="n">byma</span><span class="o">.</span><span class="n">qa_flowrateaudit</span><span class="p">,</span>
<span class="o">*</span> <span class="n">pyaqsapi</span><span class="o">.</span><span class="n">byma</span><span class="o">.</span><span class="n">qa_flowrateverification</span><span class="p">,</span>
<span class="o">*</span> <span class="n">pyaqsapi</span><span class="o">.</span><span class="n">byma</span><span class="o">.</span><span class="n">qa_one_point_qc</span><span class="p">,</span>
<span class="o">*</span> <span class="n">pyaqsapi</span><span class="o">.</span><span class="n">byma</span><span class="o">.</span><span class="n">qa_pep_audit</span><span class="p">,</span>
<span class="o">*</span> <span class="n">pyaqsapi</span><span class="o">.</span><span class="n">byma</span><span class="o">.</span><span class="n">transactionsample</span><span class="p">,</span>
<span class="o">*</span> <span class="n">pyaqsapi</span><span class="o">.</span><span class="n">bypqao</span><span class="o">.</span><span class="n">qa_annualperformanceeval</span><span class="p">,</span>
<span class="o">*</span> <span class="n">pyaqsapi</span><span class="o">.</span><span class="n">bypqao</span><span class="o">.</span><span class="n">qa_annualperformanceevaltransaction</span><span class="p">,</span>
<span class="o">*</span> <span class="n">pyaqsapi</span><span class="o">.</span><span class="n">bypqao</span><span class="o">.</span><span class="n">qa_blanks</span><span class="p">,</span>
<span class="o">*</span> <span class="n">pyaqsapi</span><span class="o">.</span><span class="n">bypqao</span><span class="o">.</span><span class="n">qa_collocated_assessments</span><span class="p">,</span>
<span class="o">*</span> <span class="n">pyaqsapi</span><span class="o">.</span><span class="n">bypqao</span><span class="o">.</span><span class="n">qa_flowrateaudit</span><span class="p">,</span>
<span class="o">*</span> <span class="n">pyaqsapi</span><span class="o">.</span><span class="n">bypqao</span><span class="o">.</span><span class="n">qa_flowrateverification</span><span class="p">,</span>
<span class="o">*</span> <span class="n">pyaqsapi</span><span class="o">.</span><span class="n">bypqao</span><span class="o">.</span><span class="n">qa_one_point_qc</span><span class="p">,</span>
<span class="o">*</span> <span class="n">pyaqsapi</span><span class="o">.</span><span class="n">bypqao</span><span class="o">.</span><span class="n">qa_pep_audit</span><span class="p">,</span>
<span class="o">*</span> <span class="n">pyaqsapi</span><span class="o">.</span><span class="n">bysite</span><span class="o">.</span><span class="n">annualsummary</span><span class="p">,</span>
<span class="o">*</span> <span class="n">pyaqsapi</span><span class="o">.</span><span class="n">bysite</span><span class="o">.</span><span class="n">dailysummary</span><span class="p">,</span>
<span class="o">*</span> <span class="n">pyaqsapi</span><span class="o">.</span><span class="n">bysite</span><span class="o">.</span><span class="n">helperfunctions</span><span class="p">,</span>
<span class="o">*</span> <span class="n">pyaqsapi</span><span class="o">.</span><span class="n">bysite</span><span class="o">.</span><span class="n">monitors</span><span class="p">,</span>
<span class="o">*</span> <span class="n">pyaqsapi</span><span class="o">.</span><span class="n">bysite</span><span class="o">.</span><span class="n">qa_annualpeferomanceeval</span><span class="p">,</span>
<span class="o">*</span> <span class="n">pyaqsapi</span><span class="o">.</span><span class="n">bysite</span><span class="o">.</span><span class="n">qa_annualperformanceevaltransaction</span><span class="p">,</span>
<span class="o">*</span> <span class="n">pyaqsapi</span><span class="o">.</span><span class="n">bysite</span><span class="o">.</span><span class="n">qa_blanks</span><span class="p">,</span>
<span class="o">*</span> <span class="n">pyaqsapi</span><span class="o">.</span><span class="n">bysite</span><span class="o">.</span><span class="n">qa_collocated_assessments</span><span class="p">,</span>
<span class="o">*</span> <span class="n">pyaqsapi</span><span class="o">.</span><span class="n">bysite</span><span class="o">.</span><span class="n">qa_flowrateaudit</span><span class="p">,</span>
<span class="o">*</span> <span class="n">pyaqsapi</span><span class="o">.</span><span class="n">bysite</span><span class="o">.</span><span class="n">qa_flowrateverification</span><span class="p">,</span>
<span class="o">*</span> <span class="n">pyaqsapi</span><span class="o">.</span><span class="n">bysite</span><span class="o">.</span><span class="n">qa_one_point_qc</span><span class="p">,</span>
<span class="o">*</span> <span class="n">pyaqsapi</span><span class="o">.</span><span class="n">bysite</span><span class="o">.</span><span class="n">qa_pep_audit</span><span class="p">,</span>
<span class="o">*</span> <span class="n">pyaqsapi</span><span class="o">.</span><span class="n">bysite</span><span class="o">.</span><span class="n">quarterlysummary</span><span class="p">,</span>
<span class="o">*</span> <span class="n">pyaqsapi</span><span class="o">.</span><span class="n">bysite</span><span class="o">.</span><span class="n">sampledata</span><span class="p">,</span>
<span class="o">*</span> <span class="n">pyaqsapi</span><span class="o">.</span><span class="n">bysite</span><span class="o">.</span><span class="n">transactionsample</span><span class="p">,</span>
<span class="o">*</span> <span class="n">pyaqsapi</span><span class="o">.</span><span class="n">bystate</span><span class="o">.</span><span class="n">annualsummary</span><span class="p">,</span>
<span class="o">*</span> <span class="n">pyaqsapi</span><span class="o">.</span><span class="n">bystate</span><span class="o">.</span><span class="n">dailysummary</span><span class="p">,</span>
<span class="o">*</span> <span class="n">pyaqsapi</span><span class="o">.</span><span class="n">bystate</span><span class="o">.</span><span class="n">helperfunctions</span><span class="p">,</span>
<span class="o">*</span> <span class="n">pyaqsapi</span><span class="o">.</span><span class="n">bystate</span><span class="o">.</span><span class="n">monitors</span><span class="p">,</span>
<span class="o">*</span> <span class="n">pyaqsapi</span><span class="o">.</span><span class="n">bystate</span><span class="o">.</span><span class="n">qa_annualperformanceeval</span><span class="p">,</span>
<span class="o">*</span> <span class="n">pyaqsapi</span><span class="o">.</span><span class="n">bystate</span><span class="o">.</span><span class="n">qa_annualperformanceevaltransaction</span><span class="p">,</span>
<span class="o">*</span> <span class="n">pyaqsapi</span><span class="o">.</span><span class="n">bystate</span><span class="o">.</span><span class="n">qa_blanks</span><span class="p">,</span>
<span class="o">*</span> <span class="n">pyaqsapi</span><span class="o">.</span><span class="n">bystate</span><span class="o">.</span><span class="n">qa_collocated_assessments</span><span class="p">,</span>
<span class="o">*</span> <span class="n">pyaqsapi</span><span class="o">.</span><span class="n">bystate</span><span class="o">.</span><span class="n">qa_flowrateaudit</span><span class="p">,</span>
<span class="o">*</span> <span class="n">pyaqsapi</span><span class="o">.</span><span class="n">bystate</span><span class="o">.</span><span class="n">qa_flowrateverification</span><span class="p">,</span>
<span class="o">*</span> <span class="n">pyaqsapi</span><span class="o">.</span><span class="n">bystate</span><span class="o">.</span><span class="n">qa_one_point_qc</span><span class="p">,</span>
<span class="o">*</span> <span class="n">pyaqsapi</span><span class="o">.</span><span class="n">bystate</span><span class="o">.</span><span class="n">qa_pep_audit</span><span class="p">,</span>
<span class="o">*</span> <span class="n">pyaqsapi</span><span class="o">.</span><span class="n">bystate</span><span class="o">.</span><span class="n">quarterlysummary</span><span class="p">,</span>
<span class="o">*</span> <span class="n">pyaqsapi</span><span class="o">.</span><span class="n">bystate</span><span class="o">.</span><span class="n">sampledata</span><span class="p">,</span>
<span class="o">*</span> <span class="n">pyaqsapi</span><span class="o">.</span><span class="n">bystate</span><span class="o">.</span><span class="n">transactionsample</span>
</pre></div>
</div>
<p>pyaqsapi functions are named according to the service and filter variables that
are available by the AQS Data Mart API. Refer to <a class="reference external" href="https://aqs.epa.gov/aqsweb/documents/data_api.html">Air Quality System (AQS) API</a> for full details of the
AQS DataMart API.</p>
</section>
<section id="variable-descriptions-and-usage">
<h2>Variable descriptions and usage<a class="headerlink" href="#variable-descriptions-and-usage" title="Link to this heading">ÔÉÅ</a></h2>
<p>These are all the available variables that can be used with various functions
exported from the pyaqsapi library listed alphabetically. Not all of these
variables are used with every function, and not all of these parameters are
required. See the :ref: <cite>pyaqsapi functional families</cite> section to
see which parameters are used with each function.</p>
<ul class="simple">
<li><dl class="simple">
<dt>AQSobject:</dt><dd><p>an object of type AQSAPI_V2 that is returned from pyaqsapi
aggregate functions wheen return_header is True.</p>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>bdate:</dt><dd><p>a date object which represents the begin date of the data selection.
Only data on or after this date will be returned.</p>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>cbdate (optional):</dt><dd><p>a date object which represents the ‚Äúbeginning date of last change‚Äù that
indicates when the data was last updated. cbdate is used to filter data
based on the change date. Only data that changed on or after this
date will be returned. This is an optional variable which defaults to None.</p>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>cedate (optional):</dt><dd><p>a date object which represents the ‚Äúend date of last change‚Äù that indicates
when the data was last updated. cedate is used to filter data based on the
change date. Only data that changed on or before this date will be
returned. This is an optional variable which defaults to None.</p>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>countycode:</dt><dd><p>a character object which represents the 3 digit state FIPS code for the
county being requested (with leading zero(s)). Refer to
<a class="reference internal" href="#aqs-counties-by-state">aqs_counties_by_state()</a> for a table of available county codes for each
state.</p>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>duration (optional):</dt><dd><p>a character string that represents the parameter duration code that limits
returned data to a specific sample duration. The default value of None
will result in no filtering based on duration code. Valid durations
include actual sample durations and not calculated durations such as 8 hour
CO or O<sub>3</sub>rolling averages, 3/6 day PM  averages or Pb 3 month
rolling averages. Refer to <a class="reference internal" href="#aqs-sampledurations">aqs_sampledurations()</a> for a table of all
available duration codes.</p>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>edate:</dt><dd><p>a date object which represents the end date of the data selection. Only
data on or before this date will be returned.</p>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>email:</dt><dd><p>a character object which represents the email account that will be used to
register with the AQS API or change an existing user‚Äôs key. A verification
email will be sent to the account specified.</p>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>key:</dt><dd><p>a character object which represents the key used in conjunction with the
username given to connect to AQS Data Mart.</p>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>MA_code:</dt><dd><p>a character object which represents the 4 digit AQS Monitoring Agency code
(with leading zeroes).</p>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>maxlat:</dt><dd><p>a character object which represents the maximum latitude of a geographic
box. Decimal latitude with north begin positive. Only data south of this
latitude will be returned.</p>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>maxlon:</dt><dd><p>a character object which represents the maximum longitude of a
geographic box. Decimal longitude with east being positive. Only
data west of this longitude will be returned. Note that -80 is less
than -70.</p>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>minlat:</dt><dd><p>a character object which represents the minimum latitude of a
geographic box. Decimal latitude with north being positive.
Only data north of this latitude will be returned.</p>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>minlon:</dt><dd><p>a character object which represents the minimum longitude of a
geographic box. Decimal longitude with east begin positive. Only
data east of this longitude will be returned.</p>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>parameter:</dt><dd><p>a character list or single character object which represents the parameter
code of the air pollutant related to the data being requested.</p>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>return_Header:</dt><dd><p>If False (default) only returns data requested as a pandas DataFrame. If
True returns a AQSAPI_V2 object.</p>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>service:</dt><dd><p>a string which represents the services provided by the AQS API. For a list
of available services refer to
<cite>&lt;https://aqs.epa.gov/aqsweb/documents/data_api.html#services&gt;_</cite>
for the complete listing of services available through the EPA
AQS Datamart API</p>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>sitenum:</dt><dd><p>a character object which represents the 4 digit site number (with
leading zeros) within the county and state being requested.</p>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>stateFIPS:</dt><dd><p>a character object which represents the 2 digit state FIPS code
(with leading zero) for the state being requested.</p>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>pqao_code:</dt><dd><p>a character object which represents the 4 digit AQS Primary Quality
Assurance Organization code (with leading zeroes).</p>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>username:</dt><dd><p>a character object which represents the email account that will be used to
connect to the AQS API.</p>
</dd>
</dl>
</li>
</ul>
</section>
<section id="pyaqsapi-functional-families">
<h2>pyaqsapi functional families<a class="headerlink" href="#pyaqsapi-functional-families" title="Link to this heading">ÔÉÅ</a></h2>
<section id="sign-up-and-credentials">
<h3>Sign up and credentials<a class="headerlink" href="#sign-up-and-credentials" title="Link to this heading">ÔÉÅ</a></h3>
<p>The functions included in this family of functions are:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">*</span> <span class="n">aqs_credentials</span>
<span class="o">*</span> <span class="n">aqs_sign_up</span>
</pre></div>
</div>
<dl class="simple">
<dt>These functions are used to sign up with Data Mart and to store credential</dt><dd><p>information to use with pyaqsapi. The aqs_sign_up function takes
one parameter:</p>
</dd>
</dl>
<ul class="simple">
<li><p>email:</p></li>
</ul>
<p>The aqs_credentials function takes two parameters:</p>
<ul class="simple">
<li><p>username:</p></li>
<li><p>key:</p></li>
</ul>
</section>
<section id="data-mart-api-metadata-functions">
<h3>Data Mart API metadata functions<a class="headerlink" href="#data-mart-api-metadata-functions" title="Link to this heading">ÔÉÅ</a></h3>
<p>The functions included in this family of functions are:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">*</span> <span class="n">aqs_isavailable</span>
<span class="o">*</span> <span class="n">aqs_knownissues</span>
<span class="o">*</span> <span class="n">aqs_fields_by_service</span>
<span class="o">*</span> <span class="n">aqs_revisionhistory</span>
</pre></div>
</div>
<p>These functions return Data Mart meta data</p>
<blockquote>
<div><p>The aqs_isavailable function takes no parameters and returns a
table which details the status of the AQS API.</p>
<p>The aqs_fields_by_service function takes one parameter, service,
which is a character object which represents the services provided by
the AQS API. For a list of available services see
<a class="reference external" href="https://aqs.epa.gov/aqsweb/documents/data_api.html#services">Air Quality System (AQS) API - Services Overview</a></p>
<p>The aqs_knownissues function takes no parameters and Returns a
table of any known issues with system functionality or the data. These are
usually issues that have been identified internally and will require some
time to correct in Data Mart or the API. This function implements a direct
API call to Data Mart and returns data directly from the API. Issues
returned via this function do not include any issues from the pyaqsapi
package.</p>
<p>The aqs_revisionhistory function is used to query Data Mart for the
change history to the API.</p>
</div></blockquote>
</section>
<section id="data-mart-api-list-functions">
<h3>Data Mart API list functions<a class="headerlink" href="#data-mart-api-list-functions" title="Link to this heading">ÔÉÅ</a></h3>
<p>The functions included in this family of functions are:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">*</span> <span class="n">aqs_cbsas</span><span class="p">,</span>
<span class="o">*</span> <span class="n">aqs_classes</span><span class="p">,</span>
<span class="o">*</span> <span class="n">aqs_counties_by_state</span><span class="p">,</span>
<span class="o">*</span> <span class="n">aqs_fields_by_service</span><span class="p">,</span>
<span class="o">*</span> <span class="n">aqs_isavailable</span><span class="p">,</span>
<span class="o">*</span> <span class="n">aqs_knownissues</span><span class="p">,</span>
<span class="o">*</span> <span class="n">aqs_mas</span><span class="p">,</span>
<span class="o">*</span> <span class="n">aqs_parameters_by_class</span><span class="p">,</span>
<span class="o">*</span> <span class="n">aqs_pqaos</span><span class="p">,</span>
<span class="o">*</span> <span class="n">aqs_revisionhistory</span><span class="p">,</span>
<span class="o">*</span> <span class="n">aqs_sampledurations</span><span class="p">,</span>
<span class="o">*</span> <span class="n">aqs_sites_by_county</span><span class="p">,</span>
<span class="o">*</span> <span class="n">aqs_states</span>
</pre></div>
</div>
<blockquote>
<div><p>List functions return the API status, API options or groupings that can be
used in conjunction with other API calls. By default each function in this
category returns results as a DataTable. If return_header parameter is set
to True a AQSAPI_v2 object is returned instead.</p>
<p>aqs_cbsas returns a table of all available Core Based Statistical
Areas (cbsas) and their respective cbsa codes.</p>
<p>aqs_states takes no arguments and returns a table of the available
states and their respective state FIPS codes.</p>
<p><span class="target" id="aqs-sampledurations">aqs_sampledurations()</span>
aqs_sampledurations takes no arguments and returns a table of the
available sample duration code used to construct other requests.</p>
<p>aqs_classes takes no arguments and returns a table of parameter
classes (groups of parameters, i.e. ‚Äúcriteria‚Äù or ‚Äúall‚Äù).</p>
<p><span class="target" id="aqs-counties-by-state">aqs_counties_by_state()</span>
aqs_counties_by_state takes one parameter, stateFIPS, which is a two
digit state FIPS code for the state being requested represented as a
character object and returns a table of counties and their
respective FIPS code for the state requested. Use aqs_states to
receive a table of valid state FIPS codes.</p>
<p>aqs_sites_by_county takes two parameters, stateFIPS, which is a
two digit state FIPS code for the state being requested and county_code
which is a three digit county FIPS code for the county being requested,
both stateFIPS and county_code should be encoded as a character object.
This function returns a table of all air monitoring sites with the
requested state and county FIPS code combination.</p>
<p>aqs_pqaos takes no parameters and returns an AQSAPI_V2
object containing a table of primary quality assurance
organizations (pqaos).</p>
<p>aqs_mas takes no parameters and returns an AQSAPI_V2
object containing a table of monitoring agencies (MA).</p>
</div></blockquote>
</section>
<section id="data-mart-aggregate-functions">
<h3>Data Mart aggregate functions<a class="headerlink" href="#data-mart-aggregate-functions" title="Link to this heading">ÔÉÅ</a></h3>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>AQS Data Mart API restricts the  maximum amount of monitoring data to one
full year of data per API call. These functions are able to return multiple
years of data by making repeated calls to the API. Each call to the Data
Mart API will take time to complete. The more years of data being requested
the longer pyaqsapi will take to return the results.</p>
</div>
<p>These functions retrieve aggregated data from the Data Mart API and are
grouped by how each function aggregates the data. There are 5 different
families of related aggregate functions. These families are arranged by how
the Data Mart API groups the returned data, bysite, bycounty, bystate,
by&lt;latitude/longitude bounding box&gt; (bybox) and
by&lt;core based statistical area&gt; (bycbsa). Within each family
of aggregated data functions there are functions that call on the 10
different services that the Data Mart API provides. All Aggregate
functions return a pandas DataFrame by default. If the return_Header
parameter is set to True an AQSAPI_V2 object is returned instead.</p>
<p>These fourteen services are:</p>
<ol class="arabic">
<li><dl class="simple">
<dt>Monitors:</dt><dd><p>Returns operational information about the samplers (monitors)
used to collect the data. Includes identifying information,
operational dates, operating organizations, etc. Functions
using this service contain monitors in the function name.</p>
</dd>
</dl>
</li>
<li><dl>
<dt>Sample Data:</dt><dd><p>Returns sample data - the most fine grain data reported to
EPA. Usually hourly, sometimes 5-minute, 12-hour, etc.
This service is available in several geographic selections
based on geography: site, county, state, cbsa (core based
statistical area, a grouping of counties), or
by latitude/longitude bounding box. Functions using this
service contain sampledata in the function name.
All Sample Data functions accept two additional, optional
parameters; cbdate and cedate.</p>
<blockquote>
<div><ul class="simple">
<li><dl class="simple">
<dt>cbdate:</dt><dd><p>a date object which represents a ‚Äúbeginning date of last
change‚Äù that indicates when the data was last updated.
cbdate is used to filter data based on the change date.
Only data that changed on or after this date will be
returned. This is an optional variable which defaults to
None.</p>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>cedate:</dt><dd><p>a date object which represents an ‚Äúend date of last change‚Äù
that indicates when the data was last updated. cedate is
used to filter data based on the change date. Only data
that changed on or before this date will be returned. This
is an optional variable which defaults to None.</p>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>duration:</dt><dd><p>an optional character string that represents the parameter
duration code that limits returned data to a specific sample
duration. The default value of None results in no filtering
based on duration code. Valid durations include actual sample
durations and not calculated durations such as 8 hour
CO or $O_3$ rolling averages, 3/6 day PM averages or
Pb 3 month rolling averages. Refer to
<a class="reference internal" href="#aqs-sampledurations">aqs_sampledurations()</a> for a list of all available
duration codes.</p>
</dd>
</dl>
</li>
</ul>
</div></blockquote>
</dd>
</dl>
</li>
<li><dl>
<dt>Daily Summary Data:</dt><dd><p>Returns data summarized at the daily level. All daily
summaries are calculated on midnight to midnight basis in local time.
Variables returned include date, mean value, maximum value, etc. Functions
using this service contain Dailysummary in the function name. All Daily
Summary Data functions accept two additional parameters; cbdate and cedate.</p>
<blockquote>
<div><ul class="simple">
<li><dl class="simple">
<dt>cbdate:</dt><dd><p>a date object which represents a ‚Äúbeginning date of last change‚Äù
that indicates when the data was last updated. cbdate is used to
filter data based on the change date. Only data that changed on or
after this date will be returned. This is an optional variable which
defaults to None.</p>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>cedate:</dt><dd><p>a date object which represents an ‚Äúend date of last change‚Äù
that indicates when the data was last updated. cedate is
used to filter data based on the change date. Only data
that changed on or before this date will be returned. This
is an optional variable which defaults to None.</p>
</dd>
</dl>
</li>
</ul>
</div></blockquote>
</dd>
</dl>
</li>
<li><dl>
<dt>Annual Summary Data:</dt><dd><p>Returns data summarized at the yearly level. Variables include mean value,
maxima, percentiles, etc. Functions using this service contain annualdata
in the function name. All Annual Summary Data functions accept two
additional parameters; cbdate and cedate.</p>
<blockquote>
<div><ul class="simple">
<li><dl class="simple">
<dt>cbdate:</dt><dd><p>a date object which represents a ‚Äúbeginning date of last
change‚Äù that indicates when the data was last updated. cbdate
is used to filter data based on the change date. Only data
that changed on or after this date will be returned. This is
an optional variable which defaults to None.</p>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>cedate:</dt><dd><p>a date object which represents an ‚Äúend date of last change‚Äù
that indicates when the data was last updated. cedate is used
to filter data based on the change date. Only data that
changed on or before this date will be returned. This is an
optional variable which defaults to None.</p>
</dd>
</dl>
</li>
</ul>
</div></blockquote>
</dd>
</dl>
</li>
<li><dl>
<dt>Quarterly Summary Data:</dt><dd><p>Returns data summarized at the quarterly level. Variables include mean
value, maxima, percentiles, etc. Functions using this service
contain quarterlydata in the function name. All Annual Summary Data
functions accept two additional parameters; cbdate and cedate.</p>
<blockquote>
<div><ul class="simple">
<li><dl class="simple">
<dt>cbdate:</dt><dd><p>a date object which represents a ‚Äúbeginning date of last change‚Äù that
indicates when the data was last updated. cbdate is used to filter
data based on the change date. Only data that changed on or after
this date will be returned. This is an optional variable which
defaults to None.</p>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>cedate:</dt><dd><p>a date object which represents an ‚Äúend date of last change‚Äù
that indicates when the data was last updated. cedate is used
to filter data based on the change date. Only data that
changed on or before this date will be returned. This is an
optional variable which defaults to None.</p>
</dd>
</dl>
</li>
</ul>
</div></blockquote>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>Quality Assurance - Blanks Data:</dt><dd><p>Quality assurance data - blanks samples. Blanks are unexposed sample
collection devices (e.g., filters) that are transported with the
exposed sample devices to assess if contamination is occurring during the
transport or handling of the samples. Functions using this service contain
qa_blanks in the function name.</p>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>Quality Assurance - Collocated Assessments:</dt><dd><p>Quality assurance data - collocated assessments. Collocated assessments
are pairs of samples collected by different samplers at the same time
and place. (These are ‚Äúoperational‚Äù samplers, assessments with
independently calibrated samplers are called ‚Äúaudits‚Äù.). Functions using
this service contain qa_collocated_assessments in the function name.</p>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>Quality Assurance - Flow Rate Verifications:</dt><dd><p>Quality assurance data - flow rate verifications. Several times per year,
each PM monitor must have it‚Äôs (fixed) flow rate verified by an operator
taking a measurement of the flow rate. Functions using this service contain
qa_flowrateverification in the function name.</p>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>Quality Assurance - Flow Rate Audits:</dt><dd><p>Quality assurance data - flow rate audits. At least twice year, each PM
monitor must have it‚Äôs flow rate measurement audited by an expert using a
different method than is used for flow rate verifications. Functions using
this service contain qa_flowrateaudit in the function name.</p>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>Quality Assurance - One Point Quality Control Raw Data:</dt><dd><p>Quality assurance data - one point quality control check raw data.
At least every two weeks, certain gaseous monitors must be challenged with
a known concentration to determine monitor performance. Functions using
this service contain qa_one_point_qc in the function name.</p>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>Quality Assurance - pep Audits:</dt><dd><p>Quality assurance data - performance evaluation program (pep) audits.
Pep audits are independent assessments used to estimate total measurement
system bias with a primary quality assurance organization. Functions
using this service contain qa_pep_audit in the function name.</p>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>Transaction Sample - AQS Submission data in transaction format (RD):</dt><dd><p>Transaction sample data - The raw transaction sample data uploaded to AQS
by the agency responsible for data submissions in RD format. Functions
using this service contain transactionsample in the function name.
Transaction sample data is only available aggregated by site, county,
state or monitoring agency.</p>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>Quality Assurance - Annual Performance Evaluations:</dt><dd><p>Quality assurance data - Annual performance evaluations. A performance
evaluation must be conducted on each primary monitor once per year. The
percent differences between known and measured concentrations at several
levels are used to assess the quality of the monitoring data. Functions
using this service contain aqs_qa_annualperformanceeval in the function
name. Annual performance in transaction format are only available
aggregated by site, county, state, monitoring agency, and primary quality
assurance organization. Annual performance evaluations are only available
aggregated by site, county, state, monitoring agency, and primary quality
assurance organization.</p>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>Quality Assurance - Annual performance Evaluations in transaction </dt><dd><p>format (RD):
Quality assurance data - The raw transaction annual performance
evaluations data in RD format. Functions using this service contain
aqs_qa_annualperformanceevaltransaction in the function name. Annual
performance evaluations in transaction format are only available
aggregated by site, county, state, monitoring agency, and primary quality
assurance organization.</p>
</dd>
</dl>
</li>
</ol>
</section>
<section id="data-mart-aggregate-functions-bysite">
<h3>Data Mart aggregate functions bysite<a class="headerlink" href="#data-mart-aggregate-functions-bysite" title="Link to this heading">ÔÉÅ</a></h3>
<p>The bysite submodule exports the following functions:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">*</span> <span class="n">bysite</span><span class="o">.</span><span class="n">annualsummary</span><span class="p">,</span>
<span class="o">*</span> <span class="n">bysite</span><span class="o">.</span><span class="n">dailysummary</span><span class="p">,</span>
<span class="o">*</span> <span class="n">bysite</span><span class="o">.</span><span class="n">helperfunctions</span><span class="p">,</span>
<span class="o">*</span> <span class="n">bysite</span><span class="o">.</span><span class="n">monitors</span><span class="p">,</span>
<span class="o">*</span> <span class="n">bysite</span><span class="o">.</span><span class="n">qa_annualpeferomanceeval</span><span class="p">,</span>
<span class="o">*</span> <span class="n">bysite</span><span class="o">.</span><span class="n">qa_annualperformanceevaltransaction</span><span class="p">,</span>
<span class="o">*</span> <span class="n">bysite</span><span class="o">.</span><span class="n">qa_blanks</span><span class="p">,</span>
<span class="o">*</span> <span class="n">bysite</span><span class="o">.</span><span class="n">qa_collocated_assessments</span><span class="p">,</span>
<span class="o">*</span> <span class="n">bysite</span><span class="o">.</span><span class="n">qa_flowrateaudit</span><span class="p">,</span>
<span class="o">*</span> <span class="n">bysite</span><span class="o">.</span><span class="n">qa_flowrateverification</span><span class="p">,</span>
<span class="o">*</span> <span class="n">bysite</span><span class="o">.</span><span class="n">qa_one_point_qc</span><span class="p">,</span>
<span class="o">*</span> <span class="n">bysite</span><span class="o">.</span><span class="n">qa_pep_audit</span><span class="p">,</span>
<span class="o">*</span> <span class="n">bysite</span><span class="o">.</span><span class="n">quarterlysummary</span><span class="p">,</span>
<span class="o">*</span> <span class="n">bysite</span><span class="o">.</span><span class="n">sampledata</span><span class="p">,</span>
<span class="o">*</span> <span class="n">bysite</span><span class="o">.</span><span class="n">transactionsample</span>
</pre></div>
</div>
<dl class="simple">
<dt>Functions exported by the bysite submodule aggregate data at the site level.</dt><dd><p>bysite functions accept the following variables:</p>
</dd>
</dl>
<ul class="simple">
<li><p>parameter:</p></li>
<li><p>bdate:</p></li>
<li><p>edate:</p></li>
<li><p>stateFIPS:</p></li>
<li><p>countycode:</p></li>
<li><p>sitenum:</p></li>
<li><dl class="simple">
<dt>cbdate (optional):</dt><dd><p>(This parameter is only used in conjunction with sampledata, dailysummary,
annualdata functions and quarterlysummary functions).</p>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>cedate (optional):</dt><dd><p>(This parameter is only used in conjunction with sampledata, dailysummary,
annualdata functions and quarterlysummary functions).</p>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>return_header (optional):</dt><dd><p>set to False by default.</p>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>duration (optional):</dt><dd><p>(This parameter is only used in conjunction with sampledata functions).</p>
</dd>
</dl>
</li>
</ul>
</section>
<section id="data-mart-aggregate-functions-bycounty">
<h3>Data Mart aggregate functions bycounty<a class="headerlink" href="#data-mart-aggregate-functions-bycounty" title="Link to this heading">ÔÉÅ</a></h3>
<p>The bycounty submodule exports the following functions:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">*</span> <span class="n">bycounty</span><span class="o">.</span><span class="n">annualsummary</span><span class="p">,</span>
<span class="o">*</span> <span class="n">bycounty</span><span class="o">.</span><span class="n">dailysummary</span><span class="p">,</span>
<span class="o">*</span> <span class="n">bycounty</span><span class="o">.</span><span class="n">helperfunctions</span><span class="p">,</span>
<span class="o">*</span> <span class="n">bycounty</span><span class="o">.</span><span class="n">monitors</span><span class="p">,</span>
<span class="o">*</span> <span class="n">bycounty</span><span class="o">.</span><span class="n">qa_annualperformanceeval</span><span class="p">,</span>
<span class="o">*</span> <span class="n">bycounty</span><span class="o">.</span><span class="n">qa_annualperformanceevaltransaction</span><span class="p">,</span>
<span class="o">*</span> <span class="n">bycounty</span><span class="o">.</span><span class="n">qa_blanks</span><span class="p">,</span>
<span class="o">*</span> <span class="n">bycounty</span><span class="o">.</span><span class="n">qa_collocated_assessments</span><span class="p">,</span>
<span class="o">*</span> <span class="n">bycounty</span><span class="o">.</span><span class="n">qa_flowrateaudit</span><span class="p">,</span>
<span class="o">*</span> <span class="n">bycounty</span><span class="o">.</span><span class="n">qa_flowrateverification</span><span class="p">,</span>
<span class="o">*</span> <span class="n">bycounty</span><span class="o">.</span><span class="n">qa_one_point_qc</span><span class="p">,</span>
<span class="o">*</span> <span class="n">bycounty</span><span class="o">.</span><span class="n">qa_pep_audit</span><span class="p">,</span>
<span class="o">*</span> <span class="n">bycounty</span><span class="o">.</span><span class="n">quarterlysummary</span><span class="p">,</span>
<span class="o">*</span> <span class="n">bycounty</span><span class="o">.</span><span class="n">sampledata</span><span class="p">,</span>
<span class="o">*</span> <span class="n">bycounty</span><span class="o">.</span><span class="n">transactionsample</span>
</pre></div>
</div>
<dl class="simple">
<dt>Functions exported by the bycounty submodule aggregate data at the county</dt><dd><p>level. All functions accept the following variables:</p>
</dd>
</dl>
<ul class="simple">
<li><p>parameter:</p></li>
<li><p>bdate:</p></li>
<li><p>edate:</p></li>
<li><p>stateFIPS:</p></li>
<li><p>countycode:</p></li>
<li><dl class="simple">
<dt>cbdate (optional):</dt><dd><p>(This parameter is only used in conjunction with sampledata, dailysummary,
annualdata and quarterlysummary functions).</p>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>cedate (optional):</dt><dd><p>(This parameter is only used in conjunction with sampledata, dailysummary,
annualdata and quarterlysummary functions).</p>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>return_header (optional):</dt><dd><p>set to False by default.</p>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>duration (optional):</dt><dd><p>(This parameter is only used in conjunction with sampledata functions).</p>
</dd>
</dl>
</li>
</ul>
</section>
<section id="data-mart-aggregate-functions-bystate">
<h3>Data Mart aggregate functions bystate<a class="headerlink" href="#data-mart-aggregate-functions-bystate" title="Link to this heading">ÔÉÅ</a></h3>
<p>The bystate submodule exports the following functions:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">*</span> <span class="n">bystate</span><span class="o">.</span><span class="n">annualsummary</span><span class="p">,</span>
<span class="o">*</span> <span class="n">bystate</span><span class="o">.</span><span class="n">dailysummary</span><span class="p">,</span>
<span class="o">*</span> <span class="n">bystate</span><span class="o">.</span><span class="n">helperfunctions</span><span class="p">,</span>
<span class="o">*</span> <span class="n">bystate</span><span class="o">.</span><span class="n">monitors</span><span class="p">,</span>
<span class="o">*</span> <span class="n">bystate</span><span class="o">.</span><span class="n">qa_annualperformanceeval</span><span class="p">,</span>
<span class="o">*</span> <span class="n">bystate</span><span class="o">.</span><span class="n">qa_annualperformanceevaltransaction</span><span class="p">,</span>
<span class="o">*</span> <span class="n">bystate</span><span class="o">.</span><span class="n">qa_blanks</span><span class="p">,</span>
<span class="o">*</span> <span class="n">bystate</span><span class="o">.</span><span class="n">qa_collocated_assessments</span><span class="p">,</span>
<span class="o">*</span> <span class="n">bystate</span><span class="o">.</span><span class="n">qa_flowrateaudit</span><span class="p">,</span>
<span class="o">*</span> <span class="n">bystate</span><span class="o">.</span><span class="n">qa_flowrateverification</span><span class="p">,</span>
<span class="o">*</span> <span class="n">bystate</span><span class="o">.</span><span class="n">qa_one_point_qc</span><span class="p">,</span>
<span class="o">*</span> <span class="n">bystate</span><span class="o">.</span><span class="n">qa_pep_audit</span><span class="p">,</span>
<span class="o">*</span> <span class="n">bystate</span><span class="o">.</span><span class="n">quarterlysummary</span><span class="p">,</span>
<span class="o">*</span> <span class="n">bystate</span><span class="o">.</span><span class="n">sampledata</span><span class="p">,</span>
<span class="o">*</span> <span class="n">bystate</span><span class="o">.</span><span class="n">transactionsample</span>
</pre></div>
</div>
<dl class="simple">
<dt>Functions exported by the bystate submodule aggregate data at the state level.</dt><dd><p>All functions accept the following variables:</p>
</dd>
</dl>
<ul class="simple">
<li><p>parameter:</p></li>
<li><p>bdate:</p></li>
<li><p>edate:</p></li>
<li><p>stateFIPS:</p></li>
<li><p>countycode:</p></li>
<li><dl class="simple">
<dt>cbdate (optional):</dt><dd><p>(This parameter is only used in conjunction with sampledata, dailysummary,
annualdata and quarterlysummary functions).</p>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>cedate (optional):</dt><dd><p>(This parameter is only used in conjunction with sampledata, dailysummary,
annualdata and quarterlysummary functions).</p>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>return_header (optional):</dt><dd><p>set to False by default.</p>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>duration (optional):</dt><dd><p>(This parameter is only used in conjunction with sampledata functions).</p>
</dd>
</dl>
</li>
</ul>
</section>
<section id="data-mart-aggregate-functions-by-monitoring-agency-ma">
<h3>Data Mart aggregate functions by Monitoring agency (MA)<a class="headerlink" href="#data-mart-aggregate-functions-by-monitoring-agency-ma" title="Link to this heading">ÔÉÅ</a></h3>
<p>The byma submodule exports the following functions:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">*</span> <span class="n">byma</span><span class="o">.</span><span class="n">qa_annualpeferomanceeval</span><span class="p">,</span>
<span class="o">*</span> <span class="n">byma</span><span class="o">.</span><span class="n">qa_annualperformanceevaltransaction</span><span class="p">,</span>
<span class="o">*</span> <span class="n">byma</span><span class="o">.</span><span class="n">qa_blanks</span><span class="p">,</span>
<span class="o">*</span> <span class="n">byma</span><span class="o">.</span><span class="n">qa_collocated_assessments</span><span class="p">,</span>
<span class="o">*</span> <span class="n">byma</span><span class="o">.</span><span class="n">qa_flowrateaudit</span><span class="p">,</span>
<span class="o">*</span> <span class="n">byma</span><span class="o">.</span><span class="n">qa_flowrateverification</span><span class="p">,</span>
<span class="o">*</span> <span class="n">byma</span><span class="o">.</span><span class="n">qa_one_point_qc</span><span class="p">,</span>
<span class="o">*</span> <span class="n">byma</span><span class="o">.</span><span class="n">qa_pep_audit</span><span class="p">,</span>
<span class="o">*</span> <span class="n">byma</span><span class="o">.</span><span class="n">transactionsample</span>
</pre></div>
</div>
<dl class="simple">
<dt>Functions in this family of functions aggregate data at the state level.</dt><dd><p>All functions accept the following variables:</p>
</dd>
</dl>
<ul class="simple">
<li><p>parameter:</p></li>
<li><p>bdate:</p></li>
<li><p>edate:</p></li>
<li><p>stateFIPS:</p></li>
<li><dl class="simple">
<dt>cbdate (optional):</dt><dd><p>(This parameter is only used in conjunction with sampledata, dailysummary,
annualdata functions and quarterlysummary functions).</p>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>cedate (optional):</dt><dd><p>(This parameter is only used in conjunction with sampledata, dailysummary,
annualdata and quarterlysummary functions).</p>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>return_header (optional):</dt><dd><p>set to False by default.</p>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>duration (optional):</dt><dd><p>(This parameter is only used in conjunction with sampledata functions).</p>
</dd>
</dl>
</li>
</ul>
<dl class="simple">
<dt>Functions exported by the byma submodule aggregate data at the</dt><dd><p>Monitoring Agency (MA) level. All functions accept the following variables:</p>
</dd>
</dl>
<ul class="simple">
<li><p>parameter:</p></li>
<li><p>bdate:</p></li>
<li><p>edate:</p></li>
<li><p>MA_code:</p></li>
<li><dl class="simple">
<dt>cbdate (optional):</dt><dd><p>(This parameter is only used in conjunction with sampledata, dailysummary,
annualdata and quarterlysummary functions).</p>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>cedate (optional):</dt><dd><p>(This parameter is only used in conjunction with sampledata, dailysummary,
annualdata and quarterlysummary functions).</p>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>return_header (optional):</dt><dd><p>set to False by default.</p>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>duration (optional):</dt><dd><p>(This parameter is only used in conjunction with sampledata functions).</p>
</dd>
</dl>
</li>
</ul>
</section>
<section id="data-mart-aggregate-functions-by-core-based-statistical-area-cbsa">
<h3>Data Mart aggregate functions by Core Based Statistical Area (cbsa)<a class="headerlink" href="#data-mart-aggregate-functions-by-core-based-statistical-area-cbsa" title="Link to this heading">ÔÉÅ</a></h3>
<p>The bycbsa submodule exports the following functions:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">*</span> <span class="n">bycbsa</span><span class="o">.</span><span class="n">annualsummary</span><span class="p">,</span>
<span class="o">*</span> <span class="n">bycbsa</span><span class="o">.</span><span class="n">dailysummary</span><span class="p">,</span>
<span class="o">*</span> <span class="n">bycbsa</span><span class="o">.</span><span class="n">helperfunctions</span><span class="p">,</span>
<span class="o">*</span> <span class="n">bycbsa</span><span class="o">.</span><span class="n">monitors</span><span class="p">,</span>
<span class="o">*</span> <span class="n">bycbsa</span><span class="o">.</span><span class="n">quarterlysummary</span><span class="p">,</span>
<span class="o">*</span> <span class="n">bycbsa</span><span class="o">.</span><span class="n">sampledata</span>
</pre></div>
</div>
<dl class="simple">
<dt>Functions exported by the bycbsa submodule aggregate data at the Core Based</dt><dd><p>Statistical Area (cbsa, as defined by the US Census Bureau) level.
All functions accept the following variables:</p>
</dd>
</dl>
<ul class="simple">
<li><p>parameter:</p></li>
<li><p>bdate:</p></li>
<li><p>edate:</p></li>
<li><p>cbsa_code:</p></li>
<li><dl class="simple">
<dt>cbdate (optional):</dt><dd><p>(This parameter is only used in conjunction with sampledata, dailysummary,
annualdata and quarterlysummary functions).</p>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>cedate (optional):</dt><dd><p>(This parameter is only used in conjunction with sampledata, dailysummary,
annualdata and quarterlysummary functions).</p>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>return_header (optional):</dt><dd><p>set to False by default.</p>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>duration (optional):</dt><dd><p>(This parameter is only used in conjunction with sampledata functions).</p>
</dd>
</dl>
</li>
</ul>
</section>
<section id="data-mart-aggregate-functions-by-primary-quality-assurance-organization-pqao">
<h3>Data Mart aggregate functions by Primary Quality Assurance Organization (pqao)<a class="headerlink" href="#data-mart-aggregate-functions-by-primary-quality-assurance-organization-pqao" title="Link to this heading">ÔÉÅ</a></h3>
<p>The bypqao submodule exports the following functions:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">*</span> <span class="n">bypqao</span><span class="o">.</span><span class="n">qa_annualperformanceeval</span><span class="p">,</span>
<span class="o">*</span> <span class="n">bypqao</span><span class="o">.</span><span class="n">qa_annualperformanceevaltransaction</span><span class="p">,</span>
<span class="o">*</span> <span class="n">bypqao</span><span class="o">.</span><span class="n">qa_blanks</span><span class="p">,</span>
<span class="o">*</span> <span class="n">bypqao</span><span class="o">.</span><span class="n">qa_collocated_assessments</span><span class="p">,</span>
<span class="o">*</span> <span class="n">bypqao</span><span class="o">.</span><span class="n">qa_flowrateaudit</span><span class="p">,</span>
<span class="o">*</span> <span class="n">bypqao</span><span class="o">.</span><span class="n">qa_flowrateverification</span><span class="p">,</span>
<span class="o">*</span> <span class="n">bypqao</span><span class="o">.</span><span class="n">qa_one_point_qc</span><span class="p">,</span>
<span class="o">*</span> <span class="n">bypqao</span><span class="o">.</span><span class="n">qa_pep_audit</span>
</pre></div>
</div>
<dl class="simple">
<dt>Functions exported by the bypqao submodule aggregate data at the</dt><dd><p>Primary Quality Assurance Organization (pqao) level. All functions accept
the following variables:</p>
</dd>
</dl>
<ul class="simple">
<li><p>parameter:</p></li>
<li><p>bdate:</p></li>
<li><p>edate:</p></li>
<li><p>pqao_code:</p></li>
<li><p>return_header (optional): set to False by default.</p></li>
</ul>
</section>
<section id="data-mart-aggregate-functions-by-latitude-longitude-bounding-box-bybox">
<h3>Data Mart aggregate functions by latitude/longitude bounding box (bybox)<a class="headerlink" href="#data-mart-aggregate-functions-by-latitude-longitude-bounding-box-bybox" title="Link to this heading">ÔÉÅ</a></h3>
<p>The bybox submodule exports the following functions:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">*</span> <span class="n">bybox</span><span class="o">.</span><span class="n">annualsummary</span><span class="p">,</span>
<span class="o">*</span> <span class="n">bybox</span><span class="o">.</span><span class="n">dailysummary</span><span class="p">,</span>
<span class="o">*</span> <span class="n">bybox</span><span class="o">.</span><span class="n">helperfunctions</span><span class="p">,</span>
<span class="o">*</span> <span class="n">bybox</span><span class="o">.</span><span class="n">monitors</span><span class="p">,</span>
<span class="o">*</span> <span class="n">bybox</span><span class="o">.</span><span class="n">quarterlysummary</span><span class="p">,</span>
<span class="o">*</span> <span class="n">bybox</span><span class="o">.</span><span class="n">sampledata</span>
</pre></div>
</div>
<dl class="simple">
<dt>Functions exported by the bybox submodule aggregate data by a</dt><dd><p>latitude/longitude bounding box (bybox) level. All functions accept the
following variables:</p>
</dd>
</dl>
<ul class="simple">
<li><p>parameter:</p></li>
<li><p>bdate:</p></li>
<li><p>edate:</p></li>
<li><p>minlat:</p></li>
<li><p>minlon:</p></li>
<li><p>maxlon:</p></li>
<li><p>maxlat:</p></li>
<li><dl class="simple">
<dt>cbdate (optional):</dt><dd><p>(This parameter is only used in conjunction with sampledata, dailysummary,
annualdata and quarterlysummary functions).</p>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>cedate (optional):</dt><dd><p>(This parameter is only used in conjunction with sampledata, dailysummary,
annualdata and quarterlysummary functions).</p>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>return_header (optional):</dt><dd><p>set to False by default.</p>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>duration (optional):</dt><dd><p>(This parameter is only used in conjunction with sampledata functions).</p>
</dd>
</dl>
</li>
</ul>
</section>
<section id="pyaqsapi-miscellaneous-functions">
<h3>pyaqsapi Miscellaneous functions<a class="headerlink" href="#pyaqsapi-miscellaneous-functions" title="Link to this heading">ÔÉÅ</a></h3>
<p>These are miscellaneous functions exported by pyaqsapi.</p>
<p>aqs_removeheader is the function that the pyaqsapi library
uses internally to coerce an AQSAPI_V2 object into a pandas DataFrame.
This is useful if the user saves the output from another pyaqsapi function
with return_header = True set but later decides that they want just a
simple pandas DataFrame object. This function takes only one variable:</p>
<ul class="simple">
<li><p>AQSobject:</p></li>
</ul>
</section>
</section>
<section id="troubleshooting">
<span id="index-9"></span><h2>Troubleshooting<a class="headerlink" href="#troubleshooting" title="Link to this heading">ÔÉÅ</a></h2>
<p>Parameters must be supplied exactly as they are specified, for example the
stateFIPS for Alabama is ‚Äú01‚Äù, entering a value of ‚Äú1‚Äù for the stateFIPS
may lead to unexpected results. Do not omit leading zeros in parameters that
expect them.</p>
</section>
<section id="about-raqsapi">
<span id="index-10"></span><h2>About RAQSAPI<a class="headerlink" href="#about-raqsapi" title="Link to this heading">ÔÉÅ</a></h2>
<p>pyaqsapi is a port of <span id="id7"></span> to the
python 3 programming environment. For anyone that is familiar with RAQSAPI,
the pyaqsapi API will feel familiar to you, most of the functions are similar
and the parameters sent to each functions are the same. pyaqsapi aims to have
feature parity with RAQSAPI and neither project will have features that the
other project does not - other than programming language environment or
language preference there is no benefit to using one package over the other.</p>
<p>&lt;!‚Äì known limitation of sphinxcontrib-bibtex, references can not be added to
toc, refer to:
<a class="reference external" href="https://sphinxcontrib-bibtex.readthedocs.io/en/latest/usage.html#citation">https://sphinxcontrib-bibtex.readthedocs.io/en/latest/usage.html#citation</a>-references-not-rendered-in-toctree-directives
‚Äì&gt;</p>
</section>
<section id="references">
<span id="index-11"></span><h2>References<a class="headerlink" href="#references" title="Link to this heading">ÔÉÅ</a></h2>
<div class="docutils container" id="id8">
<ol class="arabic simple" start="1">
<li id="id12"><p>AQS DataMart welcome. August 2018. URL: <a class="reference external" href="https://aqs.epa.gov/aqsweb/documents/data_mart_welcome.html">https://aqs.epa.gov/aqsweb/documents/data_mart_welcome.html</a>.</p></li>
<li id="id10"><p>About AQS data. May 2019. Version 1.1. URL: <a class="reference external" href="https://aqs.epa.gov/aqsweb/documents/about_aqs_data.html">https://aqs.epa.gov/aqsweb/documents/about_aqs_data.html</a>.</p></li>
<li id="id9"><p>Overview of the clean air act and air pollution. February 2021. URL: <a class="reference external" href="https://www.epa.gov/clean-air-act-overview">https://www.epa.gov/clean-air-act-overview</a>.</p></li>
<li id="id14"><p>Pandas DataFrame. January 2024. URL: <a class="reference external" href="https://pandas.pydata.org/docs/reference/api/pandas.DataFrame.html">https://pandas.pydata.org/docs/reference/api/pandas.DataFrame.html</a>.</p></li>
<li id="id13"><p>Clinton Mccrowey. A R extension to retrieve ambient air monitoring data from the United States Environmental Protection Agency's (US EPA) Air Quality System (AQS) DataMart API V2 interface. 2022. URL: <a class="reference external" href="https://github.com/USEPA/RAQSAPI">https://github.com/USEPA/RAQSAPI</a>.</p></li>
</ol>
</div>
</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="manual/EPA_Disclaimer.html" class="btn btn-neutral float-right" title="1. EPA Disclaimer" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2025, US Environmental Protection Agency.
      <span class="lastupdated">Last updated on May 01, 2025.
      </span></p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>